#ifndef XMEMORYTRACKER
#define XMEMORYTRACKER

#include "XAllocatorBase"
#include "XProperty"

namespace Eks
{

class EKSCORE_EXPORT MemoryTracker : public AllocatorBase
  {
XProperties:
  XProperty(AllocatorBase*, forwarder, setForwarder);
  XROProperty(xsize, liveAllocations);

public:
  MemoryTracker(AllocatorBase* forwarder);

  bool empty() const { return liveAllocations() == 0; }

  void *alloc(xsize size, xsize alignment=X_ALIGN_BYTE_COUNT);
  void free(void *mem);
  };

}

#endif // XMEMORYTRACKER

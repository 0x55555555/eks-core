#ifndef XOPTIONALPOINTER_H
#define XOPTIONALPOINTER_H

template <typename T> class XOptional
  {
public:
  XOptional(T *location) : _val(location ? location : &_myCopy)
    {
    }

  operator T()
    {
    return *_val;
    }


  T operator->()
    {
    return *_val;
    }

  XOptional<T> &operator=(const T &val)
    {
    *_val = val;
    return *this;
    }

private:
  T _myCopy;
  T *_val;
  };

#endif // XOPTIONALPOINTER_H
